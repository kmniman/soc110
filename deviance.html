<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Deviant or Illegal? Drag-and-Drop Activity</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f4f8fb;
      padding: 20px;
      color: #333;
    }
    h1 {
      color: #003366;
    }
    .container {
      display: flex;
      gap: 40px;
      margin-top: 20px;
      flex-wrap: wrap;
    }
    .dropzone {
      flex: 1;
      min-width: 250px;
      border: 2px dashed #003366;
      border-radius: 10px;
      padding: 20px;
      background-color: #e6f0ff;
    }
    .dropzone h2 {
      text-align: center;
      font-size: 1.2rem;
    }
    .draggable {
      background: #ffffff;
      border: 1px solid #ccc;
      padding: 10px;
      margin: 10px 0;
      border-radius: 6px;
      cursor: grab;
    }
    .dropped {
      opacity: 0.6;
    }
    #submitBtn, #resetBtn {
      margin-top: 30px;
      margin-right: 10px;
      padding: 10px 20px;
      font-size: 1rem;
      background-color: #0057b8;
      color: white;
      border: none;
      cursor: pointer;
    }
    #feedback {
      margin-top: 20px;
      background: #dff0d8;
      padding: 15px;
      border-left: 4px solid #3c763d;
      display: none;
    }
  </style>
</head>
<body>
  <h1>Deviant or Illegal? Drag-and-Drop Activity</h1>
  <p>Drag each behavior to the correct category. Some may be <strong>deviant but not illegal</strong>, <strong>illegal but not deviant</strong>, or <strong>both</strong>.</p>

  <div class="container">
    <div class="dropzone" ondrop="drop(event)" ondragover="allowDrop(event)" id="deviant">
      <h2>Deviant, Not Illegal</h2>
    </div>
    <div class="dropzone" ondrop="drop(event)" ondragover="allowDrop(event)" id="illegal">
      <h2>Illegal, Not Deviant</h2>
    </div>
    <div class="dropzone" ondrop="drop(event)" ondragover="allowDrop(event)" id="both">
      <h2>Both Deviant & Illegal</h2>
    </div>
  </div>

  <div class="container" id="items">
    <div class="draggable" draggable="true" ondragstart="drag(event)" id="item1">Public nudity at a beach</div>
    <div class="draggable" draggable="true" ondragstart="drag(event)" id="item2">Cheating on a partner</div>
    <div class="draggable" draggable="true" ondragstart="drag(event)" id="item3">Jaywalking</div>
    <div class="draggable" draggable="true" ondragstart="drag(event)" id="item4">Smoking marijuana (in a state where it is illegal)</div>
    <div class="draggable" draggable="true" ondragstart="drag(event)" id="item5">Lying to a friend</div>
    <div class="draggable" draggable="true" ondragstart="drag(event)" id="item6">Insider trading</div>
  </div>

  <button id="submitBtn" onclick="showFeedback()">Submit</button>
  <button id="resetBtn" onclick="resetActivity()">Reset</button>
  <div id="feedback"></div>

  <script>
    function allowDrop(ev) {
      ev.preventDefault();
    }

    function drag(ev) {
      ev.dataTransfer.setData("text", ev.target.id);
    }

    function drop(ev) {
      ev.preventDefault();
      const data = ev.dataTransfer.getData("text");
      const dragged = document.getElementById(data);
      if (ev.target.classList.contains("dropzone")) {
        ev.target.appendChild(dragged);
      }
    }

    function showFeedback() {
      const expected = {
        deviant: ["item2", "item5"],
        illegal: ["item3"],
        both: ["item1", "item4", "item6"]
      };

      const user = {
        deviant: [],
        illegal: [],
        both: []
      };

      ["deviant", "illegal", "both"].forEach(zone => {
        document.querySelectorAll(`#${zone} .draggable`).forEach(el => {
          user[zone].push(el.id);
        });
      });

      const totalPlaced = user.deviant.length + user.illegal.length + user.both.length;
      const feedbackEl = document.getElementById("feedback");
      let feedback = "<h3>Feedback:</h3><ul>";

      if (totalPlaced === 0) {
        feedback += "<li>Please drag the items into the categories before submitting.</li>";
      } else {
        if (!user.deviant.includes("item2")) {
          feedback += "<li>Does cheating break laws or social norms more strongly? Reflect on how it's viewed legally versus socially.</li>";
        } else {
          feedback += "<li>Correct: Cheating on a partner breaks norms but is not illegal.</li>";
        }

        if (!user.illegal.includes("item3")) {
          feedback += "<li>Jaywalking is common but still considered a legal violation. Where should that go?</li>";
        } else {
          feedback += "<li>Correct: Jaywalking is illegal but often not stigmatized.</li>";
        }

        if (!user.both.includes("item6")) {
          feedback += "<li>Think about insider tradingâ€”is it just unethical, or also criminal? Where might it belong?</li>";
        } else {
          feedback += "<li>Correct: Insider trading is both deviant and illegal.</li>";
        }
      }

      feedback += "</ul>";
      feedbackEl.innerHTML = feedback;
      feedbackEl.style.display = "block";
    }

    function resetActivity() {
      const items = document.querySelectorAll(".draggable");
      const startZone = document.getElementById("items");
      items.forEach(item => startZone.appendChild(item));
      document.getElementById("feedback").style.display = "none";
      document.getElementById("feedback").innerHTML = "";
    }
  </script>
</body>
</html>
